(window.webpackJsonp=window.webpackJsonp||[]).push([["admin.auditinfo"],{c17f:function(e,t,l){"use strict";var a={mixins:[l("3ee3").b.select],data:function(){return{action:$api.admin.moduleInfo.select}}},o=l("2877"),i=Object(o.a)(a,void 0,void 0,!1,null,null,null);t.a=i.exports},f21f:function(e,t,l){"use strict";l.r(t);var a=l("dded"),o=[{name:"id",label:"编号",show:!1},{name:"creator",label:"账户"},{name:"moduleName",label:"模块"},{name:"controller",label:"控制器"},{name:"action",label:"方法"},{name:"platformName",label:"平台"},{name:"ip",label:"IP"},{name:"executionTime",label:"执行时间"},{name:"executionDuration",label:"执行用时(ms)"}],i=l("3ee3"),n=$api.admin.auditInfo,r={mixins:[i.b.drawer],data:function(){return{drawer:{header:!0,title:"审计日志详情",icon:"log",width:"600px",draggable:!0},model:{}}},props:["id"],methods:{get:function(){var t=this;""!==this.id?n.details(this.id).then(function(e){t.model=e}):this._warning("请选择要查看的数据~")}},watch:{id:function(){0<this.id&&this.get()}}},s=l("2877"),d=Object(s.a)(r,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("nm-drawer",t._b({attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-drawer",t.drawer,!1),[l("el-form",{attrs:{"label-width":"120px",disabled:""}},[l("el-form-item",{attrs:{label:"账户："}},[t._v(t._s(t.model.creator))]),l("el-form-item",{attrs:{label:"模块："}},[t._v(t._s(t.model.moduleName)+"("+t._s(t.model.area)+")")]),l("el-form-item",{attrs:{label:"控制器："}},[t._v(t._s(t.model.controller)+"("+t._s(t.model.controllerDesc)+")")]),l("el-form-item",{attrs:{label:"方法："}},[t._v(t._s(t.model.action)+"("+t._s(t.model.actionDesc)+")")]),l("el-form-item",{attrs:{label:"执行时间："}},[t._v(t._s(t.model.executionTime))]),l("el-form-item",{attrs:{label:"用时："}},[t._v(t._s(t.model.executionDuration)+"ms")]),l("el-form-item",{attrs:{label:"IP："}},[t._v(t._s(t.model.ip))]),l("el-form-item",{attrs:{label:"平台："}},[t._v(t._s(t.model.platformName))]),l("el-form-item",{attrs:{label:"浏览器信息："}},[l("el-input",{attrs:{type:"textarea",value:t.model.browserInfo,rows:5}})],1),l("el-form-item",{attrs:{label:"参数："}},[l("el-input",{attrs:{type:"textarea",value:t.model.parameters,rows:10}})],1),l("el-form-item",{attrs:{label:"结果："}},[l("el-input",{attrs:{type:"textarea",value:t.model.result,rows:10}})],1)],1)],1)},[],!1,null,null,null).exports,m=l("c17f"),u=$api.admin.auditInfo,c={name:a.default.name,components:{DetailsPage:d,ModuleInfoSelect:m.a},data:function(){return{list:{title:a.default.title,action:u.query,labelWidth:"60px",advanced:{enabled:!0,labelWidth:"100px"},model:{accountId:"",moduleCode:"",startTime:"",endTime:""},cols:o},detailsPage:{visible:!1,id:0},buttons:a.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},details:function(e){this.detailsPage.id=e.id,this.detailsPage.visible=!0}}},f=Object(s.a)(c,function(){var l=this,e=l.$createElement,a=l._self._c||e;return a("nm-container",[a("nm-list",l._b({ref:"list",scopedSlots:l._u([{key:"querybar",fn:function(){return[a("el-form-item",{attrs:{label:"模块：",prop:"moduleCode"}},[a("module-info-select",{model:{value:l.list.model.moduleCode,callback:function(e){l.$set(l.list.model,"moduleCode",e)},expression:"list.model.moduleCode"}})],1),a("el-form-item",{attrs:{label:"账户：",prop:"accountId"}},[a("el-input",{model:{value:l.list.model.accountId,callback:function(e){l.$set(l.list.model,"accountId",e)},expression:"list.model.accountId"}})],1)]},proxy:!0},{key:"querybar-advanced",fn:function(){return[a("el-row",[a("el-col",{attrs:{span:20,offset:1}},[a("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:l.list.model.startTime,callback:function(e){l.$set(l.list.model,"startTime",e)},expression:"list.model.startTime"}})],1),a("el-form-item",{attrs:{label:"结束时间：",prop:"startTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:l.list.model.endTime,callback:function(e){l.$set(l.list.model,"endTime",e)},expression:"list.model.endTime"}})],1)],1)],1)]},proxy:!0},{key:"col-moduleName",fn:function(e){var t=e.row;return[a("span",[l._v(l._s(t.moduleName)+"("+l._s(t.area)+")")])]}},{key:"col-controller",fn:function(e){var t=e.row;return[a("span",[l._v(l._s(t.controllerDesc)+"("+l._s(t.controller)+")")])]}},{key:"col-action",fn:function(e){var t=e.row;return[a("span",[l._v(l._s(t.actionDesc)+"("+l._s(t.action)+")")])]}},{key:"col-executionDuration",fn:function(e){var t=e.row;return[a("span",[l._v(l._s(t.executionDuration)+"ms")])]}},{key:"col-operation",fn:function(e){var t=e.row;return[a("nm-button-has",{attrs:{options:l.buttons.details},on:{click:function(e){return l.details(t)}}})]}}])},"nm-list",l.list,!1)),a("details-page",{attrs:{id:l.detailsPage.id,visible:l.detailsPage.visible},on:{"update:visible":function(e){return l.$set(l.detailsPage,"visible",e)}}})],1)},[],!1,null,null,null);t.default=f.exports}}]);
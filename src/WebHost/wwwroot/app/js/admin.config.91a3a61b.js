(window.webpackJsonp=window.webpackJsonp||[]).push([["admin.config"],{"4bbf":function(e,t,i){"use strict";i.r(t);var l=i("4a2f"),o=[{name:"id",label:"编号",show:!1},{name:"key",label:"键"},{name:"value",label:"值"},{name:"remarks",label:"备注"},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],r=i("3ee3"),a=$api.admin.config,n={mixins:[r.b.dialog],data:function(){return{form:{title:"添加配置项",icon:"add",action:a.add,model:{key:"",value:"",remarks:""},rules:{key:[{required:!0,message:"请输入键",trigger:"blur"}],value:[{required:!0,message:"请输入值",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},methods:{onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.form.reset()})}}},s=i("2877"),m=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[i("el-row",[i("el-col",{attrs:{span:20,offset:1}},[i("el-form-item",{attrs:{label:"键：",prop:"key"}},[i("el-input",{model:{value:t.form.model.key,callback:function(e){t.$set(t.form.model,"key",e)},expression:"form.model.key"}})],1),i("el-form-item",{attrs:{label:"值：",prop:"value"}},[i("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.form.model.value,callback:function(e){t.$set(t.form.model,"value",e)},expression:"form.model.value"}})],1),i("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,u=$api.admin.config,d={mixins:[r.b.formDialogEdit],data:function(){return{api:u,form:{title:"编辑配置项",icon:"edit",action:u.update,model:{id:"",key:"",value:"",remarks:""},rules:{key:[{required:!0,message:"请输入键",trigger:"blur"}],value:[{required:!0,message:"请输入值",trigger:"blur"}]}}}}},c=Object(s.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[i("el-row",[i("el-col",{attrs:{span:20,offset:1}},[i("el-form-item",{attrs:{label:"键：",prop:"key"}},[i("el-input",{model:{value:t.form.model.key,callback:function(e){t.$set(t.form.model,"key",e)},expression:"form.model.key"}})],1),i("el-form-item",{attrs:{label:"值：",prop:"value"}},[i("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.form.model.value,callback:function(e){t.$set(t.form.model,"value",e)},expression:"form.model.value"}})],1),i("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,f=$api.admin.config,b={name:l.default.name,components:{AddPage:m,EditPage:c},data:function(){return{list:{title:l.default.title,cols:o,action:f.query,model:{key:""}},addPage:{visible:!1},editDialog:{visible:!1,id:""},bindMenuDialog:{visible:!1,id:""},removeAction:f.remove,buttons:l.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},edit:function(e){this.editDialog={id:e.id,visible:!0}},bindMenu:function(e){this.bindMenuDialog={id:e.id,visible:!0}}}},p=Object(s.a)(b,function(){var i=this,e=i.$createElement,l=i._self._c||e;return l("nm-container",[l("nm-list",i._b({ref:"list",scopedSlots:i._u([{key:"querybar",fn:function(){return[l("el-form-item",{attrs:{label:"键或值：",prop:"key"}},[l("el-input",{attrs:{clearable:""},model:{value:i.list.model.key,callback:function(e){i.$set(i.list.model,"key",e)},expression:"list.model.key"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[l("nm-button-has",{attrs:{options:i.buttons.add},on:{click:function(e){i.addPage.visible=!0}}})]},proxy:!0},{key:"col-operation",fn:function(e){var t=e.row;return[l("nm-button-has",{attrs:{options:i.buttons.edit},on:{click:function(e){return i.edit(t)}}}),l("nm-button-delete",{attrs:{options:i.buttons.del,action:i.removeAction,id:t.id},on:{success:i.refresh}})]}}])},"nm-list",i.list,!1)),l("add-page",{attrs:{visible:i.addPage.visible},on:{"update:visible":function(e){return i.$set(i.addPage,"visible",e)},success:i.refresh}}),l("edit-page",{attrs:{id:i.editDialog.id,visible:i.editDialog.visible},on:{"update:visible":function(e){return i.$set(i.editDialog,"visible",e)},success:i.refresh}})],1)},[],!1,null,null,null);t.default=p.exports}}]);